Drupal.TBMegaMenu=Drupal.TBMegaMenu||{},function($){Drupal.TBMegaMenu.oldWindowWidth=0,Drupal.TBMegaMenu.displayedMenuMobile=!1,Drupal.TBMegaMenu.supportedScreens=[640],Drupal.TBMegaMenu.menuResponsive=function(){var e=window.innerWidth?window.innerWidth:$(window).width(),a=$(".tb-megamenu").children(".nav-collapse");e<Drupal.TBMegaMenu.supportedScreens[0]?(a.addClass("collapse"),a.css(Drupal.TBMegaMenu.displayedMenuMobile?{height:"auto",overflow:"visible"}:{height:0,overflow:"hidden"})):(a.removeClass("collapse"),a.height()<=0&&a.css({height:"auto",overflow:"visible"}))},Drupal.behaviors.tbMegaMenuAction={attach:function(e){$(".tb-megamenu-button",e).once("menuIstance",function(){var e=this;$(e).click(function(){parseInt($(this).parent().children(".nav-collapse").height())?($(this).parent().children(".nav-collapse").css({height:0,overflow:"hidden"}),Drupal.TBMegaMenu.displayedMenuMobile=!1):($(this).parent().children(".nav-collapse").css({height:"auto",overflow:"visible"}),Drupal.TBMegaMenu.displayedMenuMobile=!0)})});var a="ontouchstart"in window&&!/hp-tablet/gi.test(navigator.appVersion);a||$(document).ready(function($){var e=0;$(".tb-megamenu").each(function(){$(this).data("duration")&&(e=$(this).data("duration"))});var a=e?100+e:500;$(".nav > li, li.mega").hover(function(e){var i=$(this);i.hasClass("mega")?(i.addClass("animating"),clearTimeout(i.data("animatingTimeout")),i.data("animatingTimeout",setTimeout(function(){i.removeClass("animating")},a)),clearTimeout(i.data("hoverTimeout")),i.data("hoverTimeout",setTimeout(function(){i.addClass("open")},100))):(clearTimeout(i.data("hoverTimeout")),i.data("hoverTimeout",setTimeout(function(){i.addClass("open")},100)))},function(e){var i=$(this);i.hasClass("mega")?(i.addClass("animating"),clearTimeout(i.data("animatingTimeout")),i.data("animatingTimeout",setTimeout(function(){i.removeClass("animating")},a)),clearTimeout(i.data("hoverTimeout")),i.data("hoverTimeout",setTimeout(function(){i.removeClass("open")},100))):(clearTimeout(i.data("hoverTimeout")),i.data("hoverTimeout",setTimeout(function(){i.removeClass("open")},100)))})}),$(window).resize(function(){var e=window.innerWidth?window.innerWidth:$(window).width();e!=Drupal.TBMegaMenu.oldWindowWidth&&(Drupal.TBMegaMenu.oldWindowWidth=e,Drupal.TBMegaMenu.menuResponsive())})}}}(jQuery);